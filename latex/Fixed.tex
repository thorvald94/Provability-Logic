\documentclass[../main.tex]{subfiles}

\begin{document}
In this section we will prove the so called \textit{fixed point theorem} for
\GL. Before stating this theorem, we will have to use the following two
definitions:

\begin{defi}
	We abbreviate $\Box\varphi\wedge\varphi$ as $\sBox\varphi$ for every
	$\varphi$ in our langauge.
\end{defi}
\begin{remark}
	\label{rem:acc}
By our semantic of modal logic, this we have that $\vDash_w\sBox\varphi$ is true iff $\vDash_v\varphi$
for all $v\in\{w\}\cup\text{acc}(w), where $\text{acc}(w) are $\text{acc}(w)$
is the collection of "states" that can be "seen" from $w$, i.e:
$\text{acc}=\{v\in W:wRv\}$
\end{remark}
\begin{lem}
	MÃ¥ske Olsons lemma 3.
\end{lem}
Another useful definition that we can make, since we for every Kripke model
$\mathcal{K}=\la W,R,\phi\ra$ have that $W$ is a finite set is the following:
\begin{defi}
	Let $\mathcal{K}=\la W,R,\phi\ra$ be a Kripke model. The
	$\mathcal{K}$-rank of the notes $w\in W$ is defined in the following
	way: $\mathcal{K}-\text{rank}(w)=0$ iff there is no world $v$ such that
	$wRv$. Otherwise we have that
	$\mathcal{K}-\text{rank}(w)=1+\text{max}\{\mathcal{K}-\text{rank}(v):wRv\}$.
\end{defi}
Since $W$ is finite and that $R$ is irreflexive we have that the for each $w\in
W$ the $\mathcal{K}$-rank of $w$ is unique.
\begin{defi}
	A sentence $\varphi$ is called modalized in $p$ if every occurence of
	$p$ in  $\varphi$ is under the scope of $\Box$.
\end{defi}
We will also need the following definition:
\begin{defi}
	A sentence $\varphi$ is said to be $n$-decomposable iff for some
	sequence $q_1,\ldots,q_n$ consisting of distinct senctence letters that
	do not occur in $\varphi$ we have some sentence $\psi(q_1,\ldots,q_n)$
	that do not contain $p$ and another sequence of distinct sentences 
	$\theta_1(p),\ldots,\theta_n(p)$, which each contains $p$ that we have
	$$\varphi=\psi(\theta_1(p),\ldots,\theta_n(p))$$.
\end{defi}
It should be noted that if $\varphi$ is modalized in $p$ that we then have that
$\varphi$ is $n$-decomposable for some $n$.
We can now state the following theorem:
\begin{thm}
	For very sentence $\varphi$ modalized in $p$, there exists a sentence
	$\sigma$ that only contains sentence letters that are contained in
	$\varphi$, but where $p$ is not a sentence letter in $\sigma$, and such that:
	$$\GL\vdash\sBox(p\leftrightarrow\varphi)\rightarrow p\leftrightarrow\sigma)$$
	Every such sentence $\sigma$ is called a fixed point of $\varphi$.
\end{thm}
We can specify this theorem. Since the fixed point $\sigma$ dose not contain a
$p$. So if we write $\varphi(p)$ instead of $\varphi$ we get that:
$$\GL\vdash \sBox(\sigma\leftrightarrow \varphi(p))\leftrightarrow\sBox
(\sigma\leftrightarrow\sigma)$$
by substituting $p$ with $\sigma$ in the theorem, and this finally gives us:
$$\GL\vdash\sigma\leftrightarrow\varphi(\psi)$$
The first proofs of this theorem was found independently by Dick de Jongh [Ref] and
Giovanni Sambin [Ref]. The proof I will follow here is due to Lisa
Reidhaar-Olsona [Ref]. This proof is a semantical one and makes use of the
Kripke model of \GL.

We will need the following three lemmas in our proof of the Fixed Point Theorem:
\begin{lem}
	\label{lem:acc}
	Given any Kripke model $\mathcal{K})\la W,R,\phi\ra$, $w\in W$ and
	sentence $\varphi$, we have that if $\vDash_w\Box\varphi$ then
	$\vDash_v\Box\varphi$ for any $v\in\text{acc}(w)$. Further we have that
	$\vDash_v\sBox\varphi$ for all $x\in\text{acc}(w)$.
\end{lem}
\begin{proof}
	Assume that we have $\vDash_w\Box\varphi$, $w$ is connected to $v$ and
	$v$ is connected $v'$. Since $R$ is transitive we have that $w$ is also
	connected to $v'$ and thus we have that $\vDash_{v'}\varphi$. Since
	$v'$ was chosen at random we have that $\vDash_v\Box\varphi$. We also
	have that $\vDash_v\varphi$ and thus we have $\vDash_v\sBox\varphi$.
\end{proof}
\begin{lem}
	\label{lem:con}
	Given any Kripke model $\mathcal{K}=\la W,R,\phi\ra$, $w\in W$ and
	sentence $\varphi$, if $\not\vDash_w\Box\varphi$ then there is "notes"
	$v$ connected to $w$ such that $\vDash_v\Box\varphi$ and
	$\not\vDash_v\varphi$.
\end{lem}
\begin{proof}
	Assume that $\not\vDash_w\Box\varphi$ then there is a notes $v$
	connected to $w$ such that $\not\vDash_v\varphi$. Let $v$ be the notes
	with the least rank with this property and suppose that $vRv'$. Since
	$v'$ is of less rank than $v$ we have that $\vDash_{v'}\varphi$. Now
	since $v'$ was chosen arbitrarily we have that $\vDash_v\Box\varphi$ and
	the lemma is proven.
\end{proof}
\begin{lem}
	\label{lem:sem}
	For any sentences $\varphi,\psi$ and $\theta$ we have that the
	following formula is valid:
	$$\sBox(\psi\leftrightarrow\theta)\rightarrow(\varphi(\psi)\leftrightarrow\varphi(\theta))$$
\end{lem}
bevis as fixed punkt


\begin{proof}
	We will prove this by showing that if $\varphi$ is $n$-decomposable
	then it has a fixed point. We will show this by induction on $n$.

	\textbf{Base case:} Suppose that $\varphi$ is $0$-decomposable. Then we
	have that $p$ dose not occur in $\varphi$ and it can thus itself be the
	sentence $\psi$.

	\textbf{Induction step:}
	Assume that every sentence that is $n$-decomposable has a fixed point.
	We now have to show that every sentence that is $(n+1)$-decomposable
	also has a fixed point. To show this we will assume the following:
	$$\varphi(P)=\psi(\Box\theta_1(p),\ldots,\Box_{n+1}(p))$$
	Further for each $i$ let:
	$$\varphi_i(p)=\psi(\Box\theta_1(p),\ldots,\Box\theta_{i-1},\top,\Box\theta_{i+1},\ldots,\Box\theta_{n+1}(p))$$
	Thus we have that for each $i$ that $\varphi(p)$ is $n$-decomposable,
	so it has a fixed point, that we call $\sigma_i$. Lastly we define:
	$$\sigma=\psi(\Box\theta_1(\sigma_1),\ldots,\Box\theta_{n+1}(\sigma_{n+1}))$$
	Our goal is to show that $\sigma$ is a fixed point of $\varphi$.
	\begin{lem}
		\label{lem:fix}
		For each $i$ we have that:
		$$\vdash_\GL\sBox(p\leftrightarrow\varphi)\rightarrow\sBox\Box\theta_i(p)\leftrightarrow\theta_i(\sigma_i))$$
	\end{lem}
	\begin{proof}
		Since we have that \GL\ is complete, we just ave to show that
		for any model $\mathcal{K}=\la W,R,\phi\ra$ and any $w\in W$
		that:
		\begin{equation}
		\label{eqn:1}
			\mathcal{K}\vDash\sBox(p\leftrightarrow\varphi)\rightarrow\sBox(\Box\theta_i(p)\leftrightarrow
		\Box\theta_i(\sigma_i))
	\end{equation}
		So we will start of by fixing $i$, $\mathcal{K}$ and $w\in W$.
		We will show \ref{eqn:1} by assuming
		$\vDash_w\sBox(p\leftrightarrow\varphi)$ and then deduce:
		$\vDash_w\sBox(\Box\theta_i(p)\leftrightarrow\Box\theta_i(\sigma_i))$;
		this is equivalent to $\vDash_v\Box
		\theta_i(p)\leftrightarrow\Box\theta_i(\sigma_i)$ for all
		$v\in\{w\}\sup\text{acc}(w)$ by remark \ref{rem:acc}. So let
		$v\in\{w\}\cup\text{acc}(w)$ and assume that
		$\vDash\Box\theta_i(p)$, i.e
		$\vDash_v\Box\theta_i(p)\leftrightarrow\top$. By lemma
		\ref{lem:acc} we have that for any $v'\in\text{acc}(v)$ that
		$\vDash_{v'}\Box\theta_i(p)$ and thus
		$\vDash_{v'}(\Box\theta_i(p)\leftrightarrow\top$. This means
		that we have:
		$$\vDash_v\sBox(\Box\theta_i(p)\leftrightarrow\top)$$
		And thus by lemma \ref{lem:sem} we get that
		$\vDash_v\varphi_i\leftrightarrow\varphi$ and since our $v$ was
		chosen arbitrarily we have that
		$\vDash_w\Box(\varphi_i\leftrightarrow\varphi)$ and thus by
		lemma \ref{lem:acc} we get that:
		$\vDash_v\sBox(\varphi_i\leftrightarrow\varphi)$. Since we have
		assumed that $\vDash_w\sBox(p\leftrightarrow\varphi)$ we again
		have by lemma \ref{lem:acc} that
		$\vDash_v\sBox(p\leftrightarrow\varphi)$, and hence we have
		$\vDash_v\sBox(p\leftrightarrow\varphi_i)$. Since our logic is
		complete and we have assumed by the induction hypothesis that
		$\varphi_i$ has a fixed point $\sigma_i$ we have that
		$\vDash_v(p\leftrightarrow\theta_i)$, and thus, since $v$ was
		chosen arbitrarily we have that
		$\vDash_w\Box(p\leftrightarrow\theta_i)$. So by using
		\ref{lem:acc} again we get that
		$\vDash_v\sBox(p\leftrightarrow\theta_i)$. We will now use
		lemma \ref{lem:sem} again and get that:
		\begin{equation}
			\label{eqn:sub1}
			\vDash_v\theta_i(p)\leftrightarrow\theta_i(\sigma_i)
		\end{equation}
		and
		\begin{equation}
			\label{eqn:sub2}
			\vDash_v\Box\theta_i(p)\leftrightarrow\Box\theta_i(\sigma_i)
		\end{equation}
		Notice that these two holds for any $v\in\{w\}\cup\text{acc}(w)$ such that
		$\vDash_v\Box\theta_i(p)$.
		Further by \ref{eqn:sub2} we can deduce
		$\vDash_v\Box\theta_i(p)\rightarrow\Box\theta_i(\sigma_i)$

		For the next step of the prove of this lemma we will assume that
		$\not\vDash_v\Box\theta_i(p)$. This means by lemma
		\ref{lem:con} that there is some world $v'$ where
		$v'\in\text{acc}(v)$, such that $\not\vDash_{v'}\theta_i(p)$
		and $\vDash_{v'}\Box\theta_i(p)$. \ref{eqn:sub1} holds for $v'$
		since $v'\in\{w\}\cup\text{acc}(w)$ and thus we have
		$\vDash_{v'}\theta_i(p)\leftrightarrow\theta_i(\sigma_i)$. This
		gives that $\not\vDash_{v'}\theta_i(\sigma_i)$ and thus since
		$vRv'$ we have that $\not\vDash_v\Box\theta_i(\sigma_i)$. By
		contraposition we then get:
		$\vDash_v\Box\theta_i(\sigma_i)\rightarrow\Box\theta_i(p)$, and
		thus we have shown that:
		$$\vDash_v\Box\theta_i(p)\leftrightarrow\Box\theta_i(\sigma_i)$$
		We have now shown the lemma.
	\end{proof}
	We now go back and finish our proof of the fixed point theorem. Suppose
	that $\mathcal{K}$ is a model and that $w\in W$ such that
	$\vDash_w\sBox(p\leftrightarrow\varphi)$. By lemma \ref{lem:fix} and
	completeness we get
	$\vDash_w\sBox(\Box\theta_i(p)\leftrightarrow\Box\theta_i(\sigma_i))$.
	By using lemma \ref{lem:sem} $(n+1)$ times we can deduce that:
	$$\vDash_w\psi(\Box\theta_i(p),\ldots,\Box\theta_{n+1}(p))\leftrightarrow\psi(
	\Box\theta_1(\sigma_1),\ldots,\Box\theta_{n+1}(\sigma_{n+1}))$$
	i.e $\vDash_w\varphi\leftrightarrow\sigma$. 

	Since we have $\vDash_w p\leftrightarrow\varphi$ we get $\vDash_w
	p\leftrightarrow\sigma$, we can obtain
	$\vDash_w\sBox(p\leftrightarrow\varphi)\rightarrow(p\leftrightarrow\sigma)$.
	Since our $\mathcal{K}$ and $w$ was chosen at random we have that
	$\sBox(p\leftrightarrow\varphi)\rightarrow(p\leftrightarrow\sigma)$ is
	valid. By completeness we then have:
	$\vdash_\GL\sBox(p\leftrightarrow\varphi)\rightarrow(p\leftrightarrow
	\sigma)$
\end{proof}
\end{document}
